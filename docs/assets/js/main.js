"use strict";const url="https://www.thecocktaildb.com/api/json/v1/1/search.php?s=margarita",resultList=document.querySelector(".js-result-list"),favoriteList=document.querySelector(".js-favorite-list"),inputSearch=document.querySelector(".js-input-search"),btnSearch=document.querySelector(".js-btn-search"),btnReset=document.querySelector(".js-btn-reset"),errorMsj=document.querySelector(".js-error-message");let resultListData=[],favoriteListData=[];const storedCocktail=JSON.parse(localStorage.getItem("favoriteCocktail"));function renderResult(t){t.innerHTML="";for(const e of resultListData){const r=favoriteListData.findIndex(t=>e.idDrink===t.idDrink);t.innerHTML+=-1===r?`<li class='list-cocktail'>\n    <article class='cocktail js-art-li-cocktail' id=${e.idDrink}>\n    <h3 class='cocktail-title'>${e.strDrink}</h3>\n    <img class='cocktail-image' src=${e.strDrinkThumb} alt='image of cocktail' />\n    </article>\n    </li>`:`<li class='list-cocktail'>\n    <article class='cocktail js-art-li-cocktail selected' id=${e.idDrink}>\n    <h3 class='cocktail-title'>${e.strDrink}</h3>\n    <img class='cocktail-image' src=${e.strDrinkThumb} alt='image of cocktail' />\n    </article>\n    </li>`}addEventToCocktail()}function renderFavorite(t){t.innerHTML="";for(const e of favoriteListData)t.innerHTML+=`<li class='list-cocktail '>\n    <article class='cocktail js-art-li-cocktail' id=${e.idDrink}>\n    <i class="fas fa-window-close icon-remove"></i>\n    <h3 class='cocktail-title'>${e.strDrink}</h3>\n    <img class='cocktail-image' src=${e.strDrinkThumb} alt='image of cocktail' />\n    </article>\n    </li>`}function renderErrorMsj(t){errorMsj.innerHTML=t}function handleClickBtnSearch(t){t.preventDefault(),fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s="+inputSearch.value).then(t=>t.json()).then(t=>{""===inputSearch.value?(renderErrorMsj("Oeps, please insert a cocktail"),errorMsj.classList.add("error-message")):(resultListData=t.drinks,inputSearch.value="",renderErrorMsj(""),errorMsj.classList.remove("error-message"),renderResult(resultList))})}function handleClickOfEachCocktail(t){const e=t.currentTarget.id,r=resultListData.find(t=>t.idDrink===e),i=favoriteListData.findIndex(t=>t.idDrink===e);-1===i?(favoriteListData.push(r),t.currentTarget.classList.add("selected")):(favoriteListData.splice(i,1),t.currentTarget.classList.remove("selected")),renderFavorite(favoriteList),localStorage.setItem("favoriteCocktail",JSON.stringify(favoriteListData))}function addEventToCocktail(){const t=document.querySelectorAll(".js-art-li-cocktail");for(const e of t)e.addEventListener("click",handleClickOfEachCocktail)}function handleClickBtnReset(t){t.preventDefault(),null!==favoriteListData&&(favoriteListData=[],favoriteList.innerHTML="",localStorage.removeItem("favoriteCocktail"),inputSearch.value="",renderErrorMsj(""),errorMsj.classList.remove("error-message"),renderResult(resultList))}null!==storedCocktail&&(favoriteListData=storedCocktail,renderFavorite(favoriteList)),fetch(url).then(t=>t.json()).then(t=>{resultListData=t.drinks,renderResult(resultList)}),btnSearch.addEventListener("click",handleClickBtnSearch),btnReset.addEventListener("click",handleClickBtnReset);